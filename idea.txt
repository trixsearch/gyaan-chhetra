You are a senior backend engineer and Django Rest Framework expert,
focused on building clean, minimal, production-ready systems.

I want you to build the BACKEND of a Library Management System
named **"gyaan-chhetra"** using ONLY the following stack:

- Django
- Django Rest Framework
- MongoDB (via PyMongo ONLY)
- JWT Authentication

âš ï¸ VERY IMPORTANT CONSTRAINTS (Must follow strictly):

âŒ DO NOT use Djongo  
âŒ DO NOT use Django ORM for MongoDB collections  
âŒ DO NOT use Redis  
âŒ DO NOT use Celery  
âŒ DO NOT use Docker  
âŒ DO NOT add background workers or queues  
âŒ DO NOT over-engineer the system  

âœ” Use **PyMongo** as the official MongoDB driver  
âœ” Keep everything synchronous and simple  
âœ” This project is for learning + real-world clarity  

----------------------------------
ğŸ“Œ GENERAL RULES
----------------------------------
1. Assume I am NEW to Django & DRF.
2. Explain each concept briefly and clearly.
3. Provide COMPLETE, REAL, FINAL, PRODUCTION-READY CODE.
   âŒ No pseudo code
   âŒ No half-written files
   âŒ No â€œexampleâ€ snippets
4. Follow BEST PRACTICES (security, validation, clean architecture).
5. Use UUID for every user.
6. Maintain ATOMICITY for all critical operations.
7. Use role-based access control (Admin / Borrower).
8. Use environment variables for secrets.
9. After completing EACH MAJOR STEP, STOP and ask:
   ğŸ‘‰ "Should I continue to the next step?"
10. Do NOT skip steps or jump ahead.

----------------------------------
ğŸ“š CORE ARCHITECTURE DECISION (IMPORTANT)
----------------------------------
- Django is used for:
  - Authentication
  - Permissions
  - Routing
  - Request validation
- MongoDB (via PyMongo) is used for:
  - Books
  - Issue records
  - Penalties
  - Audit logs

Explain WHY this hybrid approach is chosen.

----------------------------------
ğŸ“˜ AUDIT & LOGGING REQUIREMENTS
----------------------------------
Every MongoDB collection must include:

- _id (Mongo ObjectId)
- uuid (application-level UUID)
- created_by (User UUID)
- updated_by (User UUID)
- created_at (timestamp)
- updated_at (timestamp)

âœ” These fields must be set automatically  
âœ” created_at / created_by must be immutable  
âœ” updated_at / updated_by must change on every update  

Explain briefly why audit fields are important.

----------------------------------
ğŸ‘¤ USER ROLES
----------------------------------
1. Admin
2. Borrower

----------------------------------
ğŸ” AUTHENTICATION & AUTHORIZATION
----------------------------------
- Separate login for Admin and Borrower
- JWT-based authentication
- Custom User model with UUID
- Secure password hashing
- Role-based permissions

----------------------------------
ğŸ‘¨â€ğŸ’¼ ADMIN CAPABILITIES
----------------------------------
Admin can:
- Create / Update / Delete Borrowers
- Create / Update / Delete Books
  - title
  - writer
  - genre (list)
  - quantity
- Issue MULTIPLE books to a borrower (atomic)
- Accept book returns
- View issued books
- View penalties
- View book availability

----------------------------------
ğŸ‘¨â€ğŸ“ BORROWER CAPABILITIES
----------------------------------
Borrower can:
- View available books
- Search & filter books
- Borrow multiple books
- Return issued books
- View issued books
- View penalty amount
- View due dates

----------------------------------
â³ ISSUE, RETURN & PENALTY LOGIC
----------------------------------
- Issue duration = 30 days
- Store:
  - issue_date
  - due_date
  - return_date
- Penalty:
  - â‚¹1 per day per book after due_date
- Penalty calculation:
  âœ” Computed dynamically on request
  âœ” No background jobs
- Explain why this avoids extra infrastructure

----------------------------------
ğŸ“§ EMAIL NOTIFICATIONS (MINIMAL)
----------------------------------
- Trigger emails when:
  - Penalty is applied
  - Due date is crossed
- Compare:
  - Gmail Free SMTP
  - Mailjet API
- Choose ONE based on simplicity
- Implement ONLY the chosen option
- No async workers

----------------------------------
ğŸ” BOOK DISCOVERY
----------------------------------
- Search by:
  - title
  - writer
  - genre
- Filter by availability
- Pagination for large datasets

----------------------------------
ğŸ“˜ API DOCUMENTATION
----------------------------------
- Swagger / OpenAPI documentation
- JWT-protected Swagger UI

----------------------------------
ğŸ›¡ ROLE-BASED PERMISSIONS
----------------------------------
- Custom permission classes
- Admin-only route protection
- Borrower access restrictions
- No unnecessary middleware

----------------------------------
ğŸ§  TECHNICAL REQUIREMENTS
----------------------------------
- MongoDB connection via PyMongo
- Atomic operations using MongoDB transactions (where applicable)
- Centralized error handling
- Simple Django logging (no external services)
- Clean & readable folder structure
- API versioning

----------------------------------
ğŸ§© STEP-BY-STEP FLOW (Must follow strictly)
----------------------------------
1. Backend architecture overview
2. Project setup & PyMongo connection
3. Custom User model with UUID
4. JWT authentication
5. Base audit utilities
6. MongoDB collection structure
7. Role-based permissions
8. Admin APIs
9. Borrower APIs
10. Book issue & return workflows
11. Penalty calculation logic
12. Email notifications
13. Search, filter & pagination
14. Swagger documentation
15. Testing, edge cases & improvements

----------------------------------
ğŸš¦ START RULE
----------------------------------
Start with:
ğŸ‘‰ Step 1: Backend Architecture Overview

After finishing the step:
ASK before continuing.

â— Always provide FULL & FINAL code for each step.



gyaan-chhetra/
â”œâ”€â”€ gyaan_chhetra/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ wsgi.py
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_models.py      # Base MongoDB models with audit
â”‚   â”œâ”€â”€ permissions.py      # Role-based permissions
â”‚   â”œâ”€â”€ utils.py           # Common utilities
â”‚   â””â”€â”€ exceptions.py      # Custom exceptions
â”œâ”€â”€ authentication/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py          # Custom User model
â”‚   â”œâ”€â”€ serializers.py     # Auth serializers
â”‚   â”œâ”€â”€ views.py          # Auth views
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ library/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ mongo.py           # MongoDB connection & base
â”‚   â”œâ”€â”€ models.py          # Business models (PyMongo)
â”‚   â”œâ”€â”€ serializers.py     # DRF serializers
â”‚   â”œâ”€â”€ views.py          # API views
â”‚   â”œâ”€â”€ services.py        # Business logic
â”‚   â”œâ”€â”€ permissions.py     # Library-specific permissions
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env.example

You are a senior frontend engineer and an excellent React mentor,
focused on building clean, minimal, production-ready UIs.

I want you to build the FRONTEND of a Library Management System
named **"gyaan-chhetra"** using ONLY the following stack:

- React
- Axios
- React Router
- React Toastify
- Framer Motion

âš ï¸ VERY IMPORTANT CONSTRAINTS (Must follow strictly):

âŒ DO NOT use Redux, Zustand, or any global state libraries  
âŒ DO NOT use UI frameworks like MUI, Ant Design, Chakra  
âŒ DO NOT over-engineer the UI  
âŒ DO NOT assume WebSockets or background sync  
âŒ DO NOT add unnecessary libraries  

âœ” Keep everything MINIMAL, CLEAN, and EASY TO UNDERSTAND  
âœ” Use React Hooks only  
âœ” This project is for learning + real-world structure

----------------------------------
ğŸ“Œ GENERAL RULES
----------------------------------
1. Assume I am NEW to React.
2. Explain every concept briefly and clearly.
3. Provide COMPLETE, REAL, FINAL, WORKING CODE.
   âŒ No demo snippets
   âŒ No placeholders
   âŒ No half-written components
4. Follow BEST PRACTICES (clean UI, reusable components).
5. UI must be SIMPLE, MODERN, and PROFESSIONAL.
6. After completing EACH MAJOR STEP, STOP and ask:
   ğŸ‘‰ "Should I continue to the next step?"
7. Do NOT skip steps or jump ahead.

----------------------------------
ğŸ¨ UI & UX REQUIREMENTS
----------------------------------

### âœ¨ Design Style
- Glassmorphism UI:
  - Semi-transparent cards
  - Backdrop blur
  - Soft shadows
- Pure CSS (no UI libraries)
- Fully responsive layout
- Consistent spacing & typography

----------------------------------
### ğŸŒ— Theme System
- Light / Dark mode toggle ğŸŒ™
- Theme stored in localStorage
- Smooth theme transitions
- Glassmorphism adapted for dark mode
- Explain how theme context works (briefly)

----------------------------------
### ğŸ§­ Navigation & Layout
- Simple top navbar or sidebar
- Role-based navigation:
  - Admin menu
  - Borrower menu
- Active route highlighting
- Logout button
- Notification bell icon with badge count

----------------------------------
### ğŸ”” Notifications
- Notification bell icon:
  - Shows unread alerts (penalty, due date)
- React Toastify for:
  - Success messages
  - Error messages
  - Warning messages
  - API failures
- Centralized toast handling

----------------------------------
### ğŸ Animations
- Page transitions using **Framer Motion**
- Simple enter / exit animations
- Subtle hover effects
- Avoid heavy or distracting animations

----------------------------------
### ğŸ¦´ Loading States
- Skeleton loaders for:
  - Book lists
  - Tables
  - Dashboard pages
- Pure CSS or simple components
- Smooth shimmer animation

----------------------------------
### âš ï¸ Error Handling
- Centralized API error handling
- Friendly error messages
- Unauthorized access handling
- Graceful fallback UI
- Loading & empty states

----------------------------------
### ğŸš¦ Routing
- Public routes
- Protected routes (Admin / Borrower)
- Role-based route guards
- 404 Not Found page
- Auto-redirect on token expiry

----------------------------------
### ğŸ‘¨â€ğŸ’¼ Admin Dashboard
Admin can:
- Manage borrowers (CRUD)
- Manage books (CRUD)
- Issue books
- Accept book returns
- View issued books
- View penalties
- View book availability
- See overdue book badges

----------------------------------
### ğŸ‘¨â€ğŸ“ Borrower Dashboard
Borrower can:
- View available books
- Search & filter books
- Borrow multiple books
- Return books
- View issued books
- View penalty amount
- See overdue badges
- View due date reminders

----------------------------------
### ğŸ” Search & Pagination
- Search by title, writer, genre
- Filter by availability
- Pagination for large datasets
- Clean UX (no heavy UI controls)

----------------------------------
### ğŸ§  TECHNICAL EXPECTATIONS
- Axios instance with interceptors
- Centralized API service file
- Reusable components
- Custom hooks where helpful
- Clean folder structure
- Accessibility-friendly UI
- No unnecessary abstractions

----------------------------------
### ğŸ§© STEP-BY-STEP FLOW (Must follow strictly)
1. Frontend architecture overview
2. Project setup
3. Theme system (Light / Dark)
4. Glassmorphism base styles
5. Routing & navigation menu
6. Authentication flow
7. Toast notifications
8. Animations with Framer Motion
9. Skeleton loaders
10. Admin dashboard
11. Borrower dashboard
12. Search, filter & pagination
13. Error handling & fallback pages
14. Final UI polish & improvements

----------------------------------
ğŸš¦ START RULE
----------------------------------
Start with:
ğŸ‘‰ Step 1: Frontend Architecture Overview

After finishing the step:
ASK before continuing.

â— Always provide FULL & FINAL code for each step.
